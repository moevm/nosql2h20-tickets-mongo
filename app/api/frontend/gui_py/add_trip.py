# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'gui_xml/add_trip.ui'
#
# Created by: PyQt5 UI code generator 5.15.2
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from backend.backend import *

class Ui_Form(object):

    def __init__(self):
        super().__init__()
        self.qwid = QtWidgets.QWidget()
        self.setupUi(self.qwid)
        self.qwid.show()

    def add_trip_clicked(self):
        print("kek")
        from_ = self.from_line.text()
        to_ = self.to_line.text()
        dist = int(self.dist.value())
        price = int(self.price.value())
        name_tr = self.tr_name_2.currentText()
        name_tick = self.tick_name_2.currentText()
        dep_date = self.dep_date.dateTime().toPyDateTime()
        arr_date = self.arr_date.dateTime().toPyDateTime()
        add_new_trip(from_, to_, dep_date, arr_date, name_tr, dist, price, name_tick)
        completer = QtWidgets.QCompleter(get_cities())
        self.from_line.setCompleter(completer)
        self.to_line.setCompleter(completer)
        self.qwid.close()

    def set_connections(self):
        self.add_trip.clicked.connect(self.add_trip_clicked)

    def preset(self):
        self.tr_name_2.addItems(get_transport())
        self.tick_name_2.addItems(get_tickets())
        self.from_line.setCompleter(QtWidgets.QCompleter(get_cities()))
        self.to_line.setCompleter(QtWidgets.QCompleter(get_cities()))

    def setupUi(self, Form):
        Form.setObjectName("Form")
        Form.resize(1029, 282)
        self.label_18 = QtWidgets.QLabel(Form)
        self.label_18.setGeometry(QtCore.QRect(80, 129, 181, 21))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(10)
        self.label_18.setFont(font)
        self.label_18.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.label_18.setObjectName("label_18")
        self.label_15 = QtWidgets.QLabel(Form)
        self.label_15.setGeometry(QtCore.QRect(10, 49, 55, 61))
        self.label_15.setText("")
        self.label_15.setPixmap(QtGui.QPixmap("gui_xml\\../../../../../double/nosql2h20-tickets-mongo/app/api/frontend/resources/from.png"))
        self.label_15.setScaledContents(True)
        self.label_15.setObjectName("label_15")
        self.label_14 = QtWidgets.QLabel(Form)
        self.label_14.setGeometry(QtCore.QRect(10, 9, 1161, 31))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(14)
        self.label_14.setFont(font)
        self.label_14.setObjectName("label_14")
        self.label_22 = QtWidgets.QLabel(Form)
        self.label_22.setGeometry(QtCore.QRect(700, 129, 311, 21))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(10)
        self.label_22.setFont(font)
        self.label_22.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.label_22.setObjectName("label_22")
        self.tr_name_2 = QtWidgets.QComboBox(Form)
        self.tr_name_2.setGeometry(QtCore.QRect(700, 69, 311, 31))
        self.tr_name_2.setObjectName("tr_name_2")
        self.arr_date = QtWidgets.QDateTimeEdit(Form)
        self.arr_date.setGeometry(QtCore.QRect(380, 149, 141, 31))
        self.arr_date.setObjectName("arr_date")
        self.tick_name_2 = QtWidgets.QComboBox(Form)
        self.tick_name_2.setGeometry(QtCore.QRect(700, 149, 311, 31))
        self.tick_name_2.setObjectName("tick_name_2")
        self.label_17 = QtWidgets.QLabel(Form)
        self.label_17.setGeometry(QtCore.QRect(80, 49, 181, 21))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(10)
        self.label_17.setFont(font)
        self.label_17.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.label_17.setObjectName("label_17")
        self.label_16 = QtWidgets.QLabel(Form)
        self.label_16.setGeometry(QtCore.QRect(10, 119, 55, 61))
        self.label_16.setText("")
        self.label_16.setPixmap(QtGui.QPixmap("gui_xml\\../../../../../double/nosql2h20-tickets-mongo/app/api/frontend/resources/to.png"))
        self.label_16.setScaledContents(True)
        self.label_16.setObjectName("label_16")
        self.label_20 = QtWidgets.QLabel(Form)
        self.label_20.setGeometry(QtCore.QRect(550, 129, 131, 21))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(10)
        self.label_20.setFont(font)
        self.label_20.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.label_20.setObjectName("label_20")
        self.dep_date = QtWidgets.QDateTimeEdit(Form)
        self.dep_date.setGeometry(QtCore.QRect(380, 69, 141, 31))
        self.dep_date.setObjectName("dep_date")
        self.price = QtWidgets.QSpinBox(Form)
        self.price.setGeometry(QtCore.QRect(550, 150, 131, 31))
        self.price.setMaximum(99999)
        self.price.setObjectName("price")
        self.dist = QtWidgets.QSpinBox(Form)
        self.dist.setGeometry(QtCore.QRect(550, 70, 131, 31))
        self.dist.setMaximum(99999)
        self.dist.setObjectName("dist")
        self.from_line = QtWidgets.QLineEdit(Form)
        self.from_line.setGeometry(QtCore.QRect(80, 69, 291, 31))
        self.from_line.setObjectName("from_line")
        self.label_21 = QtWidgets.QLabel(Form)
        self.label_21.setGeometry(QtCore.QRect(700, 49, 311, 21))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(10)
        self.label_21.setFont(font)
        self.label_21.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.label_21.setObjectName("label_21")
        self.to_line = QtWidgets.QLineEdit(Form)
        self.to_line.setGeometry(QtCore.QRect(80, 149, 291, 31))
        self.to_line.setObjectName("to_line")
        self.label_19 = QtWidgets.QLabel(Form)
        self.label_19.setGeometry(QtCore.QRect(550, 49, 131, 21))
        font = QtGui.QFont()
        font.setFamily("Arial")
        font.setPointSize(10)
        self.label_19.setFont(font)
        self.label_19.setAlignment(QtCore.Qt.AlignLeading|QtCore.Qt.AlignLeft|QtCore.Qt.AlignVCenter)
        self.label_19.setObjectName("label_19")
        self.add_trip = QtWidgets.QPushButton(Form)
        self.add_trip.setGeometry(QtCore.QRect(400, 210, 191, 51))
        self.add_trip.setObjectName("add_trip")

        self.preset()
        self.set_connections()

        self.retranslateUi(Form)
        QtCore.QMetaObject.connectSlotsByName(Form)

    def retranslateUi(self, Form):
        _translate = QtCore.QCoreApplication.translate
        Form.setWindowTitle(_translate("Form", "Form"))
        self.label_18.setText(_translate("Form", "To:"))
        self.label_14.setText(_translate("Form", "Trip:"))
        self.label_22.setText(_translate("Form", "Ticket:"))
        self.label_17.setText(_translate("Form", "From:"))
        self.label_20.setText(_translate("Form", "Price, rub.:"))
        self.label_21.setText(_translate("Form", "Transport:"))
        self.label_19.setText(_translate("Form", "Distance, km:"))
        self.add_trip.setText(_translate("Form", "ADD"))


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Form = QtWidgets.QWidget()
    ui = Ui_Form()
    ui.setupUi(Form)
    Form.show()
    sys.exit(app.exec_())
